(function(){"use strict";var t={9403:function(t,e,r){var o=r(9242),a=r(3396);const n=(0,a.Uk)("Home"),s=(0,a.Uk)(" | "),i=(0,a.Uk)("Store"),l=(0,a.Uk)(" | "),c=(0,a.Uk)("About"),u=(0,a.Uk)(" | "),m=(0,a.Uk)("Portfolio");function d(t,e){const r=(0,a.up)("router-link"),o=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",null,[(0,a.Wm)(r,{to:"/"},{default:(0,a.w5)((()=>[n])),_:1}),s,(0,a.Wm)(r,{to:"/store"},{default:(0,a.w5)((()=>[i])),_:1}),l,(0,a.Wm)(r,{to:"/about"},{default:(0,a.w5)((()=>[c])),_:1}),u,(0,a.Wm)(r,{to:"/portfolio"},{default:(0,a.w5)((()=>[m])),_:1})]),(0,a.Wm)(o)],64)}var p=r(89);const f={},g=(0,p.Z)(f,[["render",d]]);var y=g,h=r(678);const v={class:"home"},b=(0,a._)("hr",null,null,-1),w=(0,a._)("hr",null,null,-1);function A(t,e,r,o,n,s){const i=(0,a.up)("MyProfile"),l=(0,a.up)("MyLogin");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(i),b,(0,a.Wm)(l),w])}const S=(0,a.uE)('<div class="text-center mb-3"><p>Sign in with:</p><button type="button" class="btn btn-link btn-floating mx-1"><i class="fab fa-facebook-f"></i></button><button type="button" class="btn btn-link btn-floating mx-1"><i class="fab fa-google"></i></button><button type="button" class="btn btn-link btn-floating mx-1"><i class="fab fa-twitter"></i></button><button type="button" class="btn btn-link btn-floating mx-1"><i class="fab fa-github"></i></button></div><p class="text-center">or:</p>',2),k={class:"form-outline mb-4"},P=(0,a._)("label",{class:"form-label",for:"loginName"},"Email or username",-1),L={class:"form-outline mb-4"},I=(0,a._)("label",{class:"form-label",for:"loginPassword"},"Password",-1),T=(0,a.uE)('<div class="row mb-4"><div class="col-md-6 d-flex justify-content-center"><div class="form-check mb-3 mb-md-0"><input class="form-check-input" type="checkbox" value="" id="loginCheck" checked><label class="form-check-label" for="loginCheck"> Remember me </label></div></div><div class="col-md-6 d-flex justify-content-center"><a href="#!">Forgot password?</a></div></div>',1),N=(0,a._)("div",{class:"text-center"},[(0,a._)("p",null,[(0,a.Uk)("Not a member? "),(0,a._)("a",{href:"#!"},"Register")])],-1);function C(t,e,r,n,s,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("form",null,[S,(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.email=t),type:"email",id:"loginName",class:"form-control"},null,512),[[o.nr,n.email]]),P]),(0,a._)("div",L,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.password=t),type:"password",id:"loginPassword",class:"form-control"},null,512),[[o.nr,n.password]]),I]),T,(0,a._)("button",{onClick:e[2]||(e[2]=(...t)=>n.tryLogin&&n.tryLogin(...t)),type:"button",class:"btn btn-primary btn-block mb-4"},"Sign in"),N])])}var O=r(65),j={name:"MyLogin",setup(){const t=(0,O.oR)();return{tryLogin:()=>{t.dispatch("apiTryLogin")},email:(0,a.Fl)({get(){return t.getters.email},set(e){t.commit("email",e)}}),password:(0,a.Fl)({get(){return t.getters.password},set(e){t.commit("password",e)}})}}};const F=(0,p.Z)(j,[["render",C]]);var M=F;function _(t,e,r,o,n,s){const i=(0,a.up)("MyAvatar");return(0,a.wg)(),(0,a.j4)(i)}const J=["src"],x=["src"];function U(t,e,r,o,n,s){return(0,a.wg)(),(0,a.iD)("div",null,[o.currentAvatarUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:o.currentAvatarUrl,alt:"curAvatar"},null,8,J)):(0,a.kq)("",!0),o.fileName?((0,a.wg)(),(0,a.iD)("img",{key:1,src:o.fileName,alt:"newAvatar"},null,8,x)):(0,a.kq)("",!0),(0,a._)("input",{type:"file",onChange:e[0]||(e[0]=(...t)=>o.uploadAvatar&&o.uploadAvatar(...t))},null,32),(0,a._)("button",{type:"button",onClick:e[1]||(e[1]=(...t)=>o.saveAvatar&&o.saveAvatar(...t))}," Save Avatar")])}var E={name:"MyAvatar",setup(){const t=(0,O.oR)();return{saveAvatar:function(){t.dispatch("apiUpdateAvatar")},fileName:(0,a.Fl)((()=>{const e=t.getters.newFileAvatar;return e?(console.log("getter"),console.log(t.getters.newFileAvatar),"http://localhost:4000/uploads"+e+"?"+Math.random()):null})),currentAvatarUrl:(0,a.Fl)((()=>"http://localhost:4000/storage/avatars"+t.getters.currentAvatarUrl)),uploadAvatar:function(e){const r=e.target.files||e.dataTransfer.files;r.length&&t.dispatch("apiUploadAvatar",r[0])}}}};const V=(0,p.Z)(E,[["render",U]]);var D=V,R={name:"MyProfile",components:{MyAvatar:D}};const W=(0,p.Z)(R,[["render",_]]);var G=W,Q={name:"HomeView",components:{MyProfile:G,MyLogin:M}};const H=(0,p.Z)(Q,[["render",A]]);var Z=H;const q=[{path:"/",name:"home",component:Z},{path:"/about",name:"about",component:()=>r.e(443).then(r.bind(r,6881))},{path:"/portfolio",name:"portfolio",component:()=>r.e(824).then(r.bind(r,4969))},{path:"/store",name:"store",component:()=>r.e(119).then(r.bind(r,48))}],X=(0,h.p7)({history:(0,h.PO)("/"),routes:q});var B=X,K=r(6265),z=r.n(K);async function Y(t,e=null){return null===e&&(e={}),e.headers={"X-RapidAPI-Host":"genius-song-lyrics1.p.rapidapi.com","X-RapidAPI-Key":"7e2afce0b1msh7f5c23d92a82e63p15d2e7jsn1fb4d1a13ff8",AuthJWT:localStorage.getItem("userToken")},new Promise(((r,o)=>{z().get(t,e).then((t=>{r(t)})).catch((t=>{o(t)}))}))}async function $(t,e,r=null){}var tt={get:Y,post:$},et={state:{myFirstValue:JSON.parse(localStorage.getItem("myFirstValue"))||0},getters:{getMyFirstValue(t){return t.myFirstValue}},mutations:{setMyFirstValue(t,e){localStorage.setItem("myFirstValue",JSON.stringify(e)),t.myFirstValue=e}},actions:{apiGetMyFirstValue({state:t,commit:e,dispatch:r}){console.log("Get Data"),tt.get("url"),e("setMyFirstValue","получил"),r("toastInfo","Ok")}}},rt=r(6215),ot=r.n(rt);const at=(0,rt.useToast)();var nt={actions:{toastSuccess({state:t,commit:e,dispatch:r},o){at.success(o)},toastInfo({state:t,commit:e,dispatch:r},o){o="<h2> Hello </h2>"+o,at.info(o)}}};const st=(0,rt.useToast)();var it={actions:{errorLog({state:t,commit:e,dispatch:r},o){console.log(o),st.error(o)},errorLogAjax({state:t,commit:e,dispatch:r},o){let a="???";403===o.status?a="<h3> Доступ запрещен </h3>":404===o.status&&(a="<h3> Не найдено </h3>"),st.error(a)},errorConsole({state:t,commit:e,dispatch:r},o){console.log(o)}}},lt={state:{songLyricsArray:[],songLyricsQuery:null,songLyricsErr:null,isPreload:!1},getters:{getSongsLyrics(t){return t.songLyricsArray},getSongLyricsQuery(t){return t.songLyricsQuery},getSongLyricsErr(t){return t.songLyricsErr},getCanSendSongLyrics(t){return!t.songLyricsQuery||t.songLyricsQuery.length<3},getIsPreload(t){return t.isPreload}},mutations:{setSongLyrics(t,e=[]){t.songLyricsArray=e},setIsPreload(t,e=!1){t.isPreload=e},setSongLyricsQuery(t,e){t.songLyricsQuery=e,e.length<3?t.songLyricsErr=" < 3":t.songLyricsErr=null}},actions:{apiGetSongLyrics({state:t,commit:e,dispatch:r}){r("toastInfo","start"),e("setIsPreload",!0),r("apiFetch"),r("toastInfo","finish"),e("setIsPreload",!1)},apiFetch({state:t,commit:e,dispatch:r}){const o={method:"GET",headers:{"X-RapidAPI-Host":"genius-song-lyrics1.p.rapidapi.com","X-RapidAPI-Key":"7e2afce0b1msh7f5c23d92a82e63p15d2e7jsn1fb4d1a13ff8"}};fetch("https://genius-song-lyrics1.p.rapidapi.com/search?q="+t.songLyricsQuery+"&per_page=10&page=1",o).then((t=>t.json())).then((t=>{e("setSongLyrics",t.response.hits)})).catch((t=>{console.error(t),r("errorLogAjax","403")}))}}},ct=(r(6699),{state:{myArray:JSON.parse(localStorage.getItem("myArray"))||[],myArrayPop:null},getters:{getMyArray:t=>e=>0===e.length?t.myArray:t.myArray.filter((t=>t.name.includes(e))),getMyArrayLen(t){return t.myArray.length},getMyArrayPop(t){return t.workElement}},mutations:{setMyArrayPush(t,e){t.myArray.push(e),localStorage.setItem("myArray",JSON.stringify(t.myArray))},setMyArrayDelIndex(t,e){t.myArray.splice(e,1),localStorage.setItem("myArray",JSON.stringify(t.myArray))},getMyArrayPop(t,e=null){t.myArrayPop=t.myArray.pop(),localStorage.setItem("myArray",JSON.stringify(t.myArray))},setMyArrayClear(t,e=null){t.myArray=[],t.myArrayPop=null,localStorage.removeItem("myArray")},setMyArrayDelId(t,e){t.myArray=t.myArray.filter((t=>t.id!==e)),localStorage.setItem("myArray",JSON.stringify(t.myArray)),this.dispatch("toastSuccess","del")}},actions:{apiGetMyArray(){},apiSendMyArray(){}}}),ut={state:{email:"",password:"",repeatPassword:"",registerCheck:!1,errLogin:null,errPassword:null},getters:{canRegister:t=>0!==t.email.length&&0!==t.password.length,email:t=>t.email,password:t=>t.password,repeatPassword:t=>t.repeatPassword,registerCheck:t=>t.registerCheck,errLogin:t=>t.errLogin,errPassword:t=>t.errPassword},mutations:{email:(t,e)=>{t.email=e},password:(t,e)=>{t.password=e},repeatPassword:(t,e)=>{t.repeatPassword=e},registerCheck:(t,e)=>{t.registerCheck=e},errLogin:(t,e)=>{t.errLogin=e},errPassword:(t,e)=>{t.errPassword=e}},actions:{email({commit:t,dispatch:e},r){r||(r=""),t("email",r),e("validateForm")},password({commit:t,dispatch:e},r){r||(r=""),t("password",r),e("validateForm")},repeatPassword({commit:t,dispatch:e},r){r||(r=""),t("repeatPassword",r),e("validateForm")},registerCheck({commit:t,dispatch:e},r){t("registerCheck",r),e("validateForm")},validateForm({state:t,commit:e,dispatch:r},o=null){e("errLogin",null),e("errPassword",null);const a=t.email,n=t.password;a.length<2&&e("errLogin"," короткий "),n.length<2&&e("errPassword"," короткий ")},apiTryCrateUser({state:t,commit:e,dispatch:r},o=null){const a={email:t.email,password:t.password};fetch("http://localhost:4000/api/tryCreateUser",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)}).then((t=>t.json())).then((t=>{console.log(t),r("toastSuccess"," user Create")})).catch((t=>{r("errorLogAjax",t)}))},apiTryLogin({state:t,commit:e,dispatch:r}){const o={email:t.email,password:t.password};fetch("http://localhost:4000/api/auth",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o)}).then((t=>{if(200===t.status)return t.json();r("toastInfo","JWT Not Ready")})).then((t=>{t&&(console.log(t),r("toastSuccess"," JWT Ready "),e("JwtToken",t.token),e("user",t.user))})).catch((t=>{r("errorLogAjax",t)}))}}},mt={state:{JwtToken:localStorage.getItem("JwtToken")||null,user:JSON.parse(localStorage.getItem("user"))||null},getters:{JwtToken:t=>t.JwtToken,user:t=>t.user},mutations:{JwtToken:(t,e)=>{t.JwtToken=e,localStorage.setItem("JwtToken",e)},user:(t,e)=>{t.user=e,localStorage.setItem("user",JSON.stringify(e))}},modules:{forms:ut}},dt={state:{portfolioItem:JSON.parse(localStorage.getItem("portfolioItem"))||[]},getters:{portfolioItem:t=>t.portfolioItem},mutations:{portfolioItem:(t,e)=>{t.portfolioItem=e,localStorage.setItem("portfolioItem",JSON.stringify(e))}},actions:{apiGetPortfolioItems({state:t,commit:e,dispatch:r}){fetch("http://localhost:4000/api/portfolios",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("JwtToken")}}).then((t=>{if(console.log(t),200===t.status)return t.json();r("toastInfo","Portfolio Not Ready")})).then((t=>{console.log(t),t&&(console.log(t),r("toastSuccess"," Get Items "),e("portfolioItem",t))})).catch((t=>{r("errorLogAjax",t)}))}}},pt={state:{fileName:null},getters:{currentAvatarUrl:(t,e)=>(console.log("Avatar"),console.log(e.user),e.user&&e.user.avatar?e.user.avatar:null),newFileAvatar:t=>t.fileName?t.fileName:null},mutations:{fileName:(t,e)=>{t.fileName=e,console.log(t.fileName)}},actions:{apiUpdateAvatar({state:t,commit:e,dispatch:r},o=null){fetch("http://localhost:4000/users/updateAvatar",{method:"POST",mode:"cors",headers:{authorization:localStorage.getItem("JwtToken"),"Content-Type":"application/json"},body:JSON.stringify({filename:t.fileName})}).then((t=>t.json())).then((t=>{console.log(t)})).catch((t=>{r("errorLogAjax",t)}))},apiUploadAvatar({state:t,commit:e,dispatch:r},o){r("toastInfo","Upload to Server Start");const a=new FormData;a.append("img",o),fetch("http://localhost:4000/api/helpers/converter/avatar",{method:"POST",mode:"cors",headers:{},body:a}).then((t=>t.json())).then((t=>{console.log(t.filename),e("fileName",t.filename),r("toastSuccess"," Avatar Uploads ")})).catch((t=>{r("errorLogAjax",t)}))}}},ft={state:{},getters:{},mutations:{},modules:{avatar:pt}},gt=(0,O.MT)({strict:!0,modules:{myFirstValue:et,myArray:ct,songLyrics:lt,toasts:nt,logs:it,auth:mt,portfolio:dt,profile:ft}}),yt=r(936);(0,o.ri)(y).use(gt).use(B).use(yt.ZP).use(ot()).mount("#app")}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,o,a,n){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],n=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((function(t){return r.O[t](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,o){return r.f[o](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+{119:"store",443:"about",824:"portfolio"}[t]+"."+{119:"ddc8f79f",443:"54a9cb70",824:"f99bce9f"}[t]+".js"}}(),function(){r.miniCssF=function(t){return"css/about.9435a8e1.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="frontvue3:";r.l=function(o,a,n,s){if(t[o])t[o].push(a);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var m=c[u];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==e+n){i=m;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",e+n),i.src=o),t[o]=[a];var d=function(e,r){i.onerror=i.onload=null,clearTimeout(p);var a=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t=function(t,e,r,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var n=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=i,a.parentNode.removeChild(a),o(l)}};return a.onerror=a.onload=n,a.href=e,document.head.appendChild(a),a},e=function(t,e){for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var a=r[o],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===t||n===e))return a}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){a=s[o],n=a.getAttribute("data-href");if(n===t||n===e)return a}},o=function(o){return new Promise((function(a,n){var s=r.miniCssF(o),i=r.p+s;if(e(s,i))return a();t(o,i,a,n)}))},a={143:0};r.f.miniCss=function(t,e){var r={443:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=o(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}(),function(){var t={143:0};r.f.j=function(e,o){var a=r.o(t,e)?t[e]:void 0;if(0!==a)if(a)o.push(a[2]);else{var n=new Promise((function(r,o){a=t[e]=[r,o]}));o.push(a[2]=n);var s=r.p+r.u(e),i=new Error,l=function(o){if(r.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var n=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,a[1](i)}};r.l(s,l,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,s=o[0],i=o[1],l=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var u=l(r)}for(e&&e(o);c<s.length;c++)n=s[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},o=self["webpackChunkfrontvue3"]=self["webpackChunkfrontvue3"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(9403)}));o=r.O(o)})();
//# sourceMappingURL=app.62c94989.js.map